@model IEnumerable<Entities.Concrete.Blog>

@{
    ViewData["Title"] = "GetBlogListByWriter";
    Layout = "~/Views/Shared/WriterLayout.cshtml";
}


<!-- Delete Modal -->
@*<div class="modal fade" id="DeleteModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <form id="saveForm" method="post">
                <div class="modal-header">
                    <h3 class="modal-title fs-5" id="exampleModalLabel">Blog Sil</h3>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <h4>Silmek İstediğinize Emin Misiniz ?</h4>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button id="btnDelete" type="button" class="btn btn-primary">Delete</button>
                </div>
            </form>
        </div>
    </div>
</div>*@

<h1>Yazarın Blogları</h1>
@if (Model.Count() > 0)
{
    <table class="table table-bordered">
        <tr>
            <th>#</th>
            <th>Blog Başlığı</th>
            <th>Oluşturma Tarihi</th>
            <th>Kategori</th>
            <th>Durum</th>
            <th>Düzenle</th>
            <th>Sil</th>
        </tr>
        @foreach (var item in Model)
        {
            <tr>
                <td>@item.BlogID</td>
                <td>@item.BlogTitle</td>
                <td>@(((DateTime)item.BlogCreateDate).ToString("dd-MMM-yyyy"))</td>
                <td>@item.Category.CategoryName</td>
                <td>@(item.BlogStatus == true ? "Aktif" : "Pasif")</td>
                <td><a href="/Blog/UpdateBlog/@item.BlogID" class="btn btn-warning">Düzenle</a></td>
                <td><a href="/Blog/DeleteBlog/@item.BlogID" onclick="return confirm('Silmek istediğine emin misin?');" class="btn btn-danger">Sil</a></td>
                @*<td><a id="showModal" class="btn btn-danger" onclick="Confirm(@item.BlogID)">Sil</a></td>*@
            </tr>
        }
    </table>
    <a href="/Blog/AddBlog" class="btn btn-primary">Yeni Blog Ekle</a>
}
else
{
    <h3>Henüz Bir Blog Yazınız Yok Hemen Bir Blog Ekleyin...</h3>
    <a href="/Blog/AddBlog" class="btn btn-primary">Yeni Blog Ekle</a>
}

@*<script>

    var Confirm = function (id) {
        $("#BlogID").val(id);
        $("#DeleteModal").modal("show");
    }

        $(document).ready(function)
        {
            $("#btnDelete").click(function () {
                var idD = $("#BlogID").val();
                $.ajax({
                    type: "Post",
                    url: "/Blog/BlogDelete",
                    data: { id: idD },
                    success: function (result) {
                        if (result) {
                            $("#BlogID").val(null);
                            window.location.href = "/Blog/DeleteBlog";
                        }
                        else {
                            alert("OPPPS!! Birşeyler Yanlış Gitti")
                        }
                    }
                })
            })
            $(".btnCancel").click(function () {
                window.location.href = "/Blog/BlogDelete";
            })
        }
</script>*@
